# Sequential RISC-V Processor

This repository contains a Register Transfer Level (RTL) implementation of a single-cycle RISC-V processor. The design adheres to the RV32I Base Integer Instruction Set Architecture and utilizes a modular 5-stage datapath.

## Architecture Overview

The processor executes instructions in a single clock cycle, dividing the logic into five distinct stages.

![High Level Architecture](docs/diagrams/01_high_level_architecture.png)

### Implementation Details

* **Instruction Fetch (IF):** Retrieves 32-bit instructions from the instruction memory and updates the Program Counter (PC). Supports sequential execution and branch target addressing.
* **Instruction Decode (ID):** Decodes opcodes, reads source operands from the Register File (32 x 64-bit), and generates control signals for subsequent stages.
* **Execute (EX):** Performs arithmetic and logic operations using the Arithmetic Logic Unit (ALU). Computes branch outcomes and target addresses.
* **Memory Access (MEM):** Interfaces with Data Memory for load and store instructions.
* **Writeback (WB):** Selects the final result (from ALU or Memory) and writes data back to the destination register.

![Complete Datapath](docs/diagrams/08_complete_datapath.png)

## Directory Structure

* `rtl/`: Verilog source code for individual processor modules (Fetch, Decode, Execute, Memory, Writeback).
* `tb/`: Simulation and verification files.
    * `obj_dir/`: Compilation artifacts generated by Verilator.
    * `uvm_tb_simple/`: Lightweight SystemVerilog testbench for Icarus Verilog.
* `docs/diagrams/`: Architectural diagrams and documentation resources.

## Verification

The project includes two verification environments to ensure functional correctness.

### 1. Verilator Simulation
A C++ testbench (`sim_main.cpp`) drives the Verilog model for cycle-accurate simulation. This flow produces VCD waveforms for timing analysis.

**Dependencies:** Verilator, Make, G++, GTKWave

**Build and Run:**
```bash
cd tb
make -f Makefile.verilator build
./obj_dir/Vsingle_cycle_processor
```
### 2. Directed Tests (Icarus Verilog)
A structured testbench (riscv_uvm_simple_tb.v) implementing Driver, Monitor, and Scoreboard components. This environment performs directed tests on arithmetic and memory operations using open-source tools.

Dependencies: Icarus Verilog (iverilog), vvp

Run Regression:

```Bash
cd tb/uvm_tb_simple
make
```
## Future Scope
- Transformation of the single-cycle architecture into a 5-stage pipeline.
- Implementation of a Hazard Detection Unit to resolve data and control hazards.
- Integration of a Forwarding Unit to minimize pipeline stalls.